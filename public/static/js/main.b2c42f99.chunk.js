(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{32:function(e,t,a){e.exports=a(74)},72:function(e){e.exports={}},73:function(e,t,a){},74:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(14),o=a.n(i),c=a(80),s=a(2),l=a(3),u=a(5),m=a(4),p=a(6),h=a(81),g=a(77),d=a(15),f=a.n(d),v=new(function(){function e(){Object(s.a)(this,e),this.auth=f.a.create({baseURL:"https://park-share-app-allyn.herokuapp.com",withCredentials:!0})}return Object(l.a)(e,[{key:"signup",value:function(e){var t=e.username,a=e.password,n=e.firstName,r=e.lastName,i=e.email,o=e.contact,c=e.image;return this.auth.post("/auth/signup",{username:t,password:a,firstName:n,lastName:r,email:i,contact:o,image:c}).then(function(e){return e.data})}},{key:"login",value:function(e){var t=e.username,a=e.password;return this.auth.post("/auth/login",{username:t,password:a}).then(function(e){return e.data})}},{key:"logout",value:function(){return this.auth.post("/auth/logout",{}).then(function(e){return e.data})}},{key:"me",value:function(){return this.auth.get("/auth/me").then(function(e){return e.data})}},{key:"imageUpload",value:function(e){return this.auth.post("auth/signup/image",e).then(function(e){return e.data})}}]),e}()),b=r.a.createContext(),E=b.Consumer,O=b.Provider,y=function(e){return function(t){function a(){return Object(s.a)(this,a),Object(u.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(p.a)(a,t),Object(l.a)(a,[{key:"render",value:function(){var t=this;return r.a.createElement(E,null,function(a){return r.a.createElement(e,Object.assign({login:a.login,signup:a.signup,user:a.user,logout:a.logout,isLoggedin:a.isLoggedin},t.props))})}}]),a}(n.Component)},k=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={isLoggedin:!1,user:null,isLoading:!0},a.signup=function(e){var t=e.username,n=e.password,r=e.firstName,i=e.lastName,o=e.email,c=e.contact,s=e.image;v.signup({username:t,password:n,firstName:r,lastName:i,email:o,contact:c,image:s}).then(function(e){a.setState({isLoggedin:!0,user:e})}).catch(function(e){var t=e.response.data;a.setState({message:t.statusMessage})})},a.login=function(e){var t=e.username,n=e.password;v.login({username:t,password:n}).then(function(e){a.setState({isLoggedin:!0,user:e})}).catch(function(){})},a.logout=function(){v.logout().then(function(){a.setState({isLoggedin:!1,user:null})}).catch(function(){})},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;v.me().then(function(t){e.setState({isLoggedin:!0,user:t,isLoading:!1})}).catch(function(){e.setState({isLoggedin:!1,user:null,isLoading:!1})})}},{key:"render",value:function(){var e=this.state,t=e.isLoading,a=e.isLoggedin,n=e.user;return t?r.a.createElement("div",null,"Loading"):r.a.createElement(O,{value:{isLoggedin:a,user:n,login:this.login,logout:this.logout,signup:this.signup}},this.props.children)}}]),t}(n.Component),j=a(76),C=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"front-container"},r.a.createElement(j.a,{to:"/findparking"},r.a.createElement("button",{className:"generic-button"},"Find Parking")),r.a.createElement(j.a,{to:"/rentparking"},r.a.createElement("button",{className:"generic-button"},"Rent Parking")))}}]),t}(n.Component),N=(y(function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"front-container"},r.a.createElement("h2",null,"Hi ",this.props.user.username,"!"),r.a.createElement("h4",null,"What would you like to do today?"),r.a.createElement("img",{src:"./images/parking.png"}),r.a.createElement(C,null))}}]),t}(n.Component)),a(12)),w=y(function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={firstName:"",lastName:"",email:"",contact:"",username:"",password:"",image:""},a.handleFormSubmit=function(e){e.preventDefault();var t=a.state,n=t.username,r=t.password,i=t.firstName,o=t.lastName,c=t.email,s=t.contact,l=t.image;a.props.signup({username:n,password:r,firstName:i,lastName:o,email:c,contact:s,image:l})},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(N.a)({},n,r))},a.fileOnchange=function(e){var t=e.target.files[0],n=new FormData;n.append("photo",t),v.imageUpload(n).then(function(e){a.setState({image:e,disable:!1})}).catch(function(e){return console.log(e)})},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state,t=e.username,a=e.password,n=e.firstName,i=e.lastName,o=e.email,c=e.contact;return r.a.createElement("div",{class:"front-container"},r.a.createElement("div",{className:"signup-form"},r.a.createElement("form",{onSubmit:this.handleFormSubmit},r.a.createElement("label",null,"First Name:"),r.a.createElement("input",{type:"text",name:"firstName",value:n,onChange:this.handleChange}),r.a.createElement("label",null,"Last Name:"),r.a.createElement("input",{type:"text",name:"lastName",value:i,onChange:this.handleChange}),r.a.createElement("label",null,"Email:"),r.a.createElement("input",{type:"text",name:"email",value:o,onChange:this.handleChange}),r.a.createElement("label",null,"Contact Number:"),r.a.createElement("input",{type:"text",name:"contact",value:c,onChange:this.handleChange}),r.a.createElement("label",null,"Username:"),r.a.createElement("input",{type:"text",name:"username",value:t,onChange:this.handleChange}),r.a.createElement("label",null,"Password:"),r.a.createElement("input",{type:"text",name:"password",value:a,onChange:this.handleChange}),r.a.createElement("label",null,"Profile Photo:"),r.a.createElement("input",{type:"file",onChange:this.fileOnchange}),r.a.createElement("input",{type:"submit",value:"Signup"})),r.a.createElement("p",{className:"center"},"Already have account?",r.a.createElement(j.a,{to:"/login"}," Login"))))}}]),t}(n.Component)),L=y(function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",password:""},a.handleFormSubmit=function(e){e.preventDefault();var t=a.state,n=t.username,r=t.password;a.props.login({username:n,password:r})},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(N.a)({},n,r))},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state,t=e.username,a=e.password;return r.a.createElement("div",{className:"front-container"},r.a.createElement("div",{className:"login-form"},r.a.createElement("form",{onSubmit:this.handleFormSubmit},r.a.createElement("label",null,"Username:"),r.a.createElement("input",{type:"text",name:"username",value:t,onChange:this.handleChange}),r.a.createElement("label",null,"Password:"),r.a.createElement("input",{type:"password",name:"password",value:a,onChange:this.handleChange}),r.a.createElement("input",{type:"submit",value:"Login"}))))}}]),t}(n.Component)),S=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"front-container"},r.a.createElement("h3",null,"We're sad to see you go!"),r.a.createElement("img",{className:"sad-image",src:"./images/sad.png"}),r.a.createElement(j.a,{to:"/login"},r.a.createElement("button",{className:"generic-button"},"Login")))}}]),t}(n.Component),M=a(22),x=a(79);var F=y(function(e){var t=e.component,a=e.isLoggedin,n=Object(M.a)(e,["component","isLoggedin"]);return r.a.createElement(g.a,Object.assign({},n,{render:function(e){return a?r.a.createElement(t,e):r.a.createElement(x.a,{to:"/logout"})}}))});var D=y(function(e){var t=e.component,a=e.isLoggedin,n=Object(M.a)(e,["component","isLoggedin"]);return r.a.createElement(g.a,Object.assign({},n,{render:function(e){return a?r.a.createElement(x.a,{to:"/private"}):r.a.createElement(t,e)}}))}),P=y(function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.isLoggedin;return r.a.createElement("div",{className:"navbar"},e?r.a.createElement(r.a.Fragment,null,r.a.createElement(j.a,{to:"/private"},r.a.createElement("img",{className:"logo-nav",src:"/images/home.png"})),r.a.createElement(j.a,{to:"/findparking"},r.a.createElement("img",{className:"big-nav",src:"/images/car.png"})),r.a.createElement(j.a,{to:"/mymessages"},r.a.createElement("img",{className:"big-nav",src:"/images/message.png"})),r.a.createElement(j.a,{to:"/profile"},r.a.createElement("img",{className:"big-nav",src:"/images/user.png"}))):null)}}]),t}(n.Component)),A=new(function(){function e(t){Object(s.a)(this,e),this.rentpark=f.a.create({baseURL:"https://park-share-app-allyn.herokuapp.com",withCredentials:!0})}return Object(l.a)(e,[{key:"getMapLocation",value:function(){return this.rentpark.get("/api/map").then(function(e){return e.data})}},{key:"getparkingdetails",value:function(e){return this.rentpark.get("/api/findparking/".concat(e)).then(function(e){return e.data})}},{key:"postparkmap",value:function(e){var t=e.info;return this.rentpark.post("/api/map",{info:t}).then(function(e){return e.data})}},{key:"postparkform",value:function(e){var t=e.location,a=e.district,n=e.spaceFor,r=e.date,i=e.description,o=e.image;return this.rentpark.post("/api/rentparking",{location:t,district:a,spaceFor:n,date:r,description:i,image:o}).then(function(e){return e.data})}},{key:"getparking",value:function(){return this.rentpark.get("/api/findparking").then(function(e){return e.data})}},{key:"postmessageform",value:function(e){var t=e.message,a=e.id,n=e.senderName;return this.rentpark.post("/api/message/".concat(a),{message:t,senderName:n}).then(function(e){return e.data})}},{key:"getmessages",value:function(){return this.rentpark.get("/api/mymessages").then(function(e){return e.data})}},{key:"getmymessages",value:function(e){return this.rentpark.get("/api/mymessages/".concat(e)).then(function(e){return e.data})}},{key:"imageUpload",value:function(e){return this.rentpark.post("/api/rentparking/image",e).then(function(e){return e.data})}}]),e}()),U=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.parking,t=e._id,a=e.location,n=e.renterName,i=e.image;return r.a.createElement("div",{className:"box-container",key:t},r.a.createElement("div",null,r.a.createElement(j.a,{to:"/findparking/".concat(t)},r.a.createElement("img",{className:"parking-image",src:i}))),r.a.createElement("div",{className:"text-box"},r.a.createElement(j.a,{style:{textDecoration:"none"},to:"/findparking/".concat(t)},r.a.createElement("h4",null,a)),r.a.createElement("p",null,"Owner: ",n)))}}]),t}(n.Component),I=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).handleSearch=function(e){(0,a.props.handleSearch)(e.target.value)},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"front-container"},r.a.createElement("input",{className:"input",type:"text",placeholder:"Filter by location",onChange:this.handleSearch}))}}]),t}(n.Component),W=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(i)))).state={listOfParking:[],searchValue:""},a.handleSearch=function(e){a.setState({searchValue:e})},a.renderFind=function(e,t){return e.filter(function(e){return e.location.toLowerCase().includes(t.toLowerCase())}).map(function(e,t){return r.a.createElement(U,{key:t,parking:e})})},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;A.getparking().then(function(t){e.setState({listOfParking:t})})}},{key:"render",value:function(){var e=this.state,t=e.listOfParking,a=e.searchValue;return r.a.createElement("div",null,r.a.createElement("h3",null,"Parking Spots"),r.a.createElement(I,{handleSearch:this.handleSearch}),this.renderFind(t,a))}}]),t}(n.Component),z=y(function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={data:{}},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;A.getparkingdetails(t).then(function(t){e.setState({data:t}),console.log(t)}).catch(function(e){return console.log(e)})}},{key:"render",value:function(){var e=this.state.data,t=e.renterName,a=e.image,n=e.district,i=e.location,o=e.spaceFor,c=e.date,s=e.description,l=e.renter;return r.a.createElement("div",{className:"front-container"},r.a.createElement("img",{className:"image-details",src:a}),r.a.createElement("h3",null,"Parking Sharer: ",t," "),r.a.createElement("p",null,"Location: ",i),r.a.createElement("p",null,"District: ",n),r.a.createElement("p",null,"Space for: ",o),r.a.createElement("p",null,"Description: ",s),r.a.createElement("p",null,"Date Available: ",c),r.a.createElement(j.a,{to:"/message/".concat(l)},r.a.createElement("button",{className:"generic-button"},"Message ",t)),r.a.createElement(j.a,{to:"/findparking"},r.a.createElement("button",{className:"logout-button"},"Back")))}}]),t}(n.Component)),B=y(function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={renter:"",location:"",district:"",image:"",description:"",spaceFor:"",usersInterested:"",date:""},a.handleFormSubmit=function(e){e.preventDefault();var t=a.state,n=t.location,r=t.district,i=t.spaceFor,o=t.date,c=t.description,s=t.image;A.postparkform({location:n,district:r,spaceFor:i,date:o,description:c,image:s}).then(function(){a.setState({location:"",district:"",spaceFor:"",date:"",description:"",image:""}),a.props.history.push("/rentparking/success")}).catch(function(e){return console.log(e)})},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(N.a)({},n,r))},a.fileOnchange=function(e){var t=e.target.files[0],n=new FormData;n.append("photo",t),A.imageUpload(n).then(function(e){a.setState({image:e,disable:!1})}).catch(function(e){return console.log(e)})},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state,t=e.location,a=e.district,n=e.spaceFor,i=e.date,o=e.description;return r.a.createElement("div",{className:"front-container"},r.a.createElement("form",{onSubmit:this.handleFormSubmit},r.a.createElement("label",null,"Location:"),r.a.createElement("input",{type:"text",name:"location",value:t,onChange:this.handleChange}),r.a.createElement("label",null,"District:"),r.a.createElement("input",{type:"text",name:"district",value:a,onChange:this.handleChange}),r.a.createElement("label",null,"Space for:"),r.a.createElement("input",{type:"text",name:"spaceFor",value:n,onChange:this.handleChange}),r.a.createElement("label",null,"Description:"),r.a.createElement("input",{type:"text",name:"description",value:o,onChange:this.handleChange}),r.a.createElement("label",null,"Dates available:"),r.a.createElement("input",{type:"date",name:"date",value:i,onChange:this.handleChange}),r.a.createElement("label",null,"Photo:"),r.a.createElement("input",{type:"file",onChange:this.fileOnchange}),r.a.createElement("input",{type:"submit",value:"Rent Parking"})))}}]),t}(n.Component));function R(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Success!"))}var T=y(function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={message:""},a.handleFormSubmit=function(e){e.preventDefault();var t=a.state.message,n=a.props.match.params.id,r=a.props.user.username;A.postmessageform({message:t,id:n,senderName:r}).then(function(e){e.message,e.id,e.sender;a.setState({message:""})})},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(N.a)({},n,r))},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state.message;return r.a.createElement("div",{className:"front-container"},r.a.createElement("div",{className:"message-box"}),r.a.createElement("form",{onSubmit:this.handleFormSubmit},r.a.createElement("label",null,"Message:"),r.a.createElement("div",null,r.a.createElement("textarea",{rows:"10",cols:"36",type:"text",name:"message",value:e,onChange:this.handleChange})),r.a.createElement("input",{type:"submit",value:"Send"})),r.a.createElement(j.a,{to:"/findparking"},r.a.createElement("button",{className:"logout-button"},"Back")))}}]),t}(n.Component)),V=new(function(){function e(t){Object(s.a)(this,e),this.userservice=f.a.create({baseURL:"https://park-share-app-allyn.herokuapp.com",withCredentials:!0})}return Object(l.a)(e,[{key:"getuser",value:function(){return this.userservice.get("/api/profile").then(function(e){return e.data})}},{key:"edituser",value:function(e){var t=e.firstName,a=e.lastName,n=e.email,r=e.contact;return this.userservice.post("/api/editprofile",{firstName:t,lastName:a,email:n,contact:r}).then(function(e){return e.data}).catch(function(e){return console.log(e)})}}]),e}()),_=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={user:null},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;V.getuser().then(function(t){console.log("data set",t),e.setState({user:t})})}},{key:"render",value:function(){var e=this.props.list._id;return r.a.createElement("div",null,r.a.createElement("div",{key:e},r.a.createElement(j.a,{to:"/mymessages/".concat(e)},r.a.createElement("h4",null,"Message"))))}}]),t}(n.Component),H=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={listOfMessages:[],showMessage:!1},a.renderMessage=function(){a.setState({showMessage:!a.state.showForm})},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;A.getmessages().then(function(t){console.log(t),e.setState({listOfMessages:t})})}},{key:"render",value:function(){var e=this.state.listOfMessages;return r.a.createElement("div",null,r.a.createElement("h3",null,"My Messages"),e.map(function(e,t){return r.a.createElement(_,{key:t,list:e})}))}}]),t}(n.Component),J=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={data:[],users:null},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;A.getmymessages(t).then(function(t){e.setState({data:t})}).catch(function(e){return console.log(e)})}},{key:"render",value:function(){return console.log(this.props),r.a.createElement("div",null,r.a.createElement("h3",null,"Message Details"),r.a.createElement("p",null,this.state.data.message),r.a.createElement("p",null,"Message from ",this.state.data.senderName))}}]),t}(n.Component),G=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={firstName:"",lastName:"",email:", ",contact:null},a.handleFormSubmit=function(e){e.preventDefault();var t=a.state,n=t.firstName,r=t.lastName,i=t.email,o=t.contact;V.edituser({firstName:n,lastName:r,email:i,contact:o}).then(function(){a.setState({firstName:"",lastName:"",email:", ",contact:null}),a.props.history.push("/profile")}).catch(function(e){return console.log(e)})},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(N.a)({},n,r))},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state,t=e.firstName,a=e.lastName,n=e.email,i=e.contact;return r.a.createElement("div",{className:"front-container"},r.a.createElement("img",{src:"./images/profile.png"}),r.a.createElement("form",{onSubmit:this.handleFormSubmit},r.a.createElement("label",null,"First Name:"),r.a.createElement("input",{type:"text",name:"firstName",value:t,onChange:this.handleChange}),r.a.createElement("label",null,"Last Name:"),r.a.createElement("input",{type:"text",name:"lastName",value:a,onChange:this.handleChange}),r.a.createElement("label",null,"Email:"),r.a.createElement("input",{type:"text",name:"email",value:n,onChange:this.handleChange}),r.a.createElement("label",null,"Contact:"),r.a.createElement("input",{type:"text",name:"contact",value:i,onChange:this.handleChange}),r.a.createElement("input",{type:"submit",value:"Save Changes"})),r.a.createElement(j.a,{to:"/findparking"},r.a.createElement("button",{className:"logout-button"},"Back")))}}]),t}(n.Component),Q=y(function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={data:null},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;V.getuser().then(function(t){console.log("data set",t),e.setState({data:t})})}},{key:"render",value:function(){var e=this.props.logout;return r.a.createElement("div",null,this.state.data?r.a.createElement("div",{className:"front-container"},r.a.createElement("h3",null,"Your profile"),this.state.data.image?r.a.createElement("img",{className:"profile-photo",src:this.state.data.image}):r.a.createElement("img",{src:"./images/profile.png"}),r.a.createElement("p",null,"First Name: ",this.state.data.firstName),r.a.createElement("p",null,"Last Name: ",this.state.data.lastName),r.a.createElement("p",null,"Email: ",this.state.data.email),r.a.createElement("p",null,"Contact Number: ",this.state.data.contact),r.a.createElement(j.a,{to:"/editprofile"},r.a.createElement("button",{className:"logout-button"},"Edit Profile")),r.a.createElement("button",{className:"logout-button",onClick:e},"Logout")):null)}}]),t}(n.Component)),K=a(16),Y=a(18),Z=a(78),q={position:"absolute",width:"100vw",height:"80vh",margin:"0 auto"},X=function(e){function t(e){var a;Object(s.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).handleSubmit=function(e){var t=a.state.currentLocation,n=[];n.push(t.lat),n.push(t.lng),console.log(n),console.log(Object(Y.a)(Object(Y.a)(a))),A.postparkmap({info:n}).then(function(e){return console.log(e)}),console.log("this.props",a.props),a.props.history.push("/rentparking")},a.goToFindParking=function(){a.props.history.push("/findparking")};var n=a.props.initialCenter,r=n.lat,i=n.lng;return a.state={currentLocation:{lat:r,lng:i}},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidUpdate",value:function(e,t){e.google!==this.props.google&&this.loadMap(),t.currentLocation!==this.state.currentLocation&&this.recenterMap()}},{key:"recenterMap",value:function(){var e=this.map,t=this.state.currentLocation,a=this.props.google.maps;if(e){var n=new a.LatLng(t.lat,t.lng);e.panTo(n)}}},{key:"componentDidMount",value:function(){var e=this;this.props.centerAroundCurrentLocation&&navigator&&navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(t){var a=t.coords;e.setState({currentLocation:{lat:a.latitude,lng:a.longitude}},function(){e.props.getCurrentLoc(e.state.currentLocation),e.loadMap()})})}},{key:"loadMap",value:function(){if(this.props&&this.props.google){var e=this.props.google.maps,t=this.refs.map,a=o.a.findDOMNode(t),n=this.props.zoom,r=this.state.currentLocation,i=r.lat,c=r.lng,s=new e.LatLng(i,c),l=Object.assign({},{center:s,zoom:n});this.map=new e.Map(a,l)}}},{key:"renderChildren",value:function(){var e=this,t=this.props.children;if(t)return r.a.Children.map(t,function(t){if(t)return r.a.cloneElement(t,{map:e.map,google:e.props.google,mapCenter:e.state.currentLocation})})}},{key:"render",value:function(){var e=Object.assign({},q);return console.log(this.state.currentLocation),r.a.createElement("div",null,r.a.createElement("div",{className:"buttons-div"},r.a.createElement("button",{className:"buttons-map",onClick:this.handleSubmit},"Share this parking"),r.a.createElement("button",{className:"buttons-map",onClick:this.goToFindParking},"See parkings spots")),r.a.createElement("div",{style:e,ref:"map"},"Loading map..."),this.renderChildren())}}]),t}(r.a.Component),$=Object(Z.a)(X);X.defaultProps={zoom:13,initialCenter:{lat:41.3851,lng:2.1734},centerAroundCurrentLocation:!1,visible:!0};a(72);var ee=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={showingInfoWindow:!1,CurrentLocation:{},selectedPlace:{},selectedParking:null,mapData:[]},a.onClose=function(e){a.state.showingInfoWindow&&a.setState({showingInfoWindow:!1,activeMarker:null})},a.getCurrentLocation=function(e){a.setState({CurrentLocation:e})},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;A.getMapLocation().then(function(t){e.setState({mapData:t})})}},{key:"render",value:function(){var e=this,t=this.state.mapData,a=this.state.selectedParking;return console.log(this.state.CurrentLocation),r.a.createElement($,{centerAroundCurrentLocation:!0,google:this.props.google,className:"map",getCurrentLoc:this.getCurrentLocation},t.map(function(t){return r.a.createElement(K.Marker,{key:t._id,position:{lat:t.currentLoc.coordinates[0],lng:t.currentLoc.coordinates[1]},onClick:function(){e.setState({selectedPlace:e.props,showingInfoWindow:!0,selectedParking:t})}})}),this.state.selectedParking?r.a.createElement(K.InfoWindow,{marker:this.state.activeMarker,visible:this.state.showingInfoWindow,onClose:this.onClose,position:{lat:a.currentLoc.coordinates[0],lng:a.currentLoc.coordinates[1]}},r.a.createElement("div",null,r.a.createElement("a",{href:"findparking/".concat(a._id)},r.a.createElement("img",{className:"image-map",src:a.image})),r.a.createElement("p",null,a.location),r.a.createElement("p",null,"Sharer: ",a.renterName))):r.a.createElement(K.InfoWindow,{visible:!1}),r.a.createElement(K.Marker,{icon:"./images/pin.png",onClick:this.onMarkerClick}))}}]),t}(n.Component),te=Object(K.GoogleApiWrapper)({apiKey:"AIzaSyB6xHfPLxTArJQQzUVAs2EV6CZG6UT9HCU"})(ee),ae=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"front-container"},r.a.createElement("img",{className:"logo",src:"./images/parking.png"}),r.a.createElement(j.a,{to:"/login"},r.a.createElement("button",{className:"generic-button"},"Login")),r.a.createElement(j.a,{to:"/signup"},r.a.createElement("button",{className:"generic-button"},"Signup"))))}}]),t}(n.Component),ne=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(k,null,r.a.createElement("div",{className:"container"},r.a.createElement(P,null),r.a.createElement(h.a,null,r.a.createElement(D,{exact:!0,path:"/",component:ae}),r.a.createElement(D,{path:"/signup",component:w}),r.a.createElement(D,{path:"/login",component:L}),r.a.createElement(D,{path:"/logout",component:S}),r.a.createElement(F,{path:"/private",component:te}),r.a.createElement(g.a,{path:"/directory",component:C}),r.a.createElement(F,{path:"/profile",component:Q}),r.a.createElement(F,{path:"/editprofile",component:G}),r.a.createElement(g.a,{exact:!0,path:"/findparking",component:W}),r.a.createElement(g.a,{path:"/findparking/:id",component:z}),r.a.createElement(g.a,{exact:!0,path:"/rentparking",component:B}),r.a.createElement(g.a,{path:"/rentparking/success",component:R}),r.a.createElement(g.a,{exact:!0,path:"/message/:id",component:T}),r.a.createElement(g.a,{exact:!0,path:"/mymessages",component:H}),r.a.createElement(g.a,{path:"/mymessages/:id",component:J}))))}}]),t}(n.Component);a(73);o.a.render(r.a.createElement(c.a,null,r.a.createElement(ne,null)),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.b2c42f99.chunk.js.map